<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI:OS - Live System Desktop</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #000000;
            color: #00ff88;
            overflow: hidden;
            height: 100vh;
        }

        /* Main canvas for visualization */
        #systemCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* Mode selector */
        .mode-selector {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00ff88;
            border-radius: 10px;
            padding: 15px;
            display: flex;
            gap: 10px;
        }

        .mode-btn {
            padding: 10px 20px;
            background: rgba(0, 255, 136, 0.2);
            border: 1px solid #00ff88;
            color: #00ff88;
            cursor: pointer;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            transition: all 0.3s;
        }

        .mode-btn:hover {
            background: rgba(0, 255, 136, 0.4);
            transform: translateY(-2px);
        }

        .mode-btn.active {
            background: #00ff88;
            color: #000;
        }

        /* Live process display */
        .process-stream {
            position: fixed;
            left: 20px;
            top: 100px;
            width: 400px;
            max-height: 600px;
            overflow: hidden;
            z-index: 10;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #00ff88;
            border-radius: 5px;
            padding: 10px;
        }

        .process-line {
            font-size: 10px;
            margin: 2px 0;
            opacity: 0;
            animation: fadeInOut 4s forwards;
        }

        @keyframes fadeInOut {
            0% {
                opacity: 0;
                transform: translateX(-20px);
            }
            10% {
                opacity: 1;
                transform: translateX(0);
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }

        /* File system monitor */
        .file-monitor {
            position: fixed;
            right: 20px;
            top: 100px;
            width: 450px;
            max-height: 600px;
            overflow: hidden;
            z-index: 10;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #00d4ff;
            border-radius: 5px;
            padding: 10px;
        }

        .file-line {
            font-size: 10px;
            margin: 2px 0;
            color: #00d4ff;
        }

        /* Network activity */
        .network-activity {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 500px;
            z-index: 10;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #ff00ff;
            border-radius: 5px;
            padding: 10px;
        }

        .network-line {
            font-size: 10px;
            margin: 2px 0;
            color: #ff00ff;
        }

        /* System stats */
        .system-stats {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00ff88;
            border-radius: 10px;
            padding: 20px;
            min-width: 320px;
            z-index: 10;
        }

        .stat-title {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #00ff88;
            text-align: center;
            letter-spacing: 2px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 11px;
        }

        .stat-label {
            color: #00d4ff;
        }

        .stat-value {
            color: #00ff88;
            font-weight: bold;
        }

        /* Floating characters */
        .float-char {
            position: fixed;
            font-size: 12px;
            color: #00ff88;
            pointer-events: none;
            z-index: 2;
            animation: floatUp 8s linear forwards;
            text-shadow: 0 0 5px currentColor;
        }

        @keyframes floatUp {
            0% {
                opacity: 0;
                transform: translateY(0) rotate(0deg);
            }
            5% {
                opacity: 1;
            }
            95% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateY(-100vh) rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <!-- Mode Selector -->
    <div class="mode-selector">
        <button class="mode-btn active" data-mode="filesystem">File System</button>
        <button class="mode-btn" data-mode="network">Network</button>
        <button class="mode-btn" data-mode="quantum">Quantum</button>
        <button class="mode-btn" data-mode="processes">Processes</button>
    </div>

    <!-- Canvas for floating characters -->
    <canvas id="systemCanvas"></canvas>

    <!-- Process Stream -->
    <div class="process-stream" id="processStream">
        <div style="color: #00ff88; font-weight: bold; margin-bottom: 5px;">LIVE PROCESSES</div>
    </div>

    <!-- File Monitor -->
    <div class="file-monitor" id="fileMonitor">
        <div style="color: #00d4ff; font-weight: bold; margin-bottom: 5px;">FILE SYSTEM ACTIVITY</div>
    </div>

    <!-- Network Activity -->
    <div class="network-activity" id="networkActivity">
        <div style="color: #ff00ff; font-weight: bold; margin-bottom: 5px;">NETWORK ACTIVITY</div>
    </div>

    <!-- System Stats -->
    <div class="system-stats">
        <div class="stat-title">AI:OS KERNEL</div>
        <div class="stat-row">
            <span class="stat-label">Uptime:</span>
            <span class="stat-value" id="uptimeValue">0:00:00</span>
        </div>
        <div class="stat-row">
            <span class="stat-label">Active Threads:</span>
            <span class="stat-value" id="threadsValue">0</span>
        </div>
        <div class="stat-row">
            <span class="stat-label">Files Scanned:</span>
            <span class="stat-value" id="filesValue">0</span>
        </div>
        <div class="stat-row">
            <span class="stat-label">Network Packets:</span>
            <span class="stat-value" id="packetsValue">0</span>
        </div>
        <div class="stat-row">
            <span class="stat-label">Qubits Active:</span>
            <span class="stat-value" id="qubitsValue">0</span>
        </div>
    </div>

    <script>
        // ============================================================
        // SYSTEM MONITOR
        // ============================================================

        const canvas = document.getElementById('systemCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let currentMode = 'filesystem';
        let startTime = Date.now();
        let filesScanned = 0;
        let packetsProcessed = 0;

        // Real file structure
        const fileStructure = [
            'quantum_ml_algorithms.py',
            'adaptive_desktop.html',
            'ai_os_desktop.html',
            'desktop_background.html',
            'landing_page.html',
            'AGENTS.md',
            'SOVEREIGN_SECURITY_TOOLKIT.md',
            '.claude.json',
            'package.json',
            'quantum_chronowalk_gov.py',
            'tools/network_analyzer.py',
            'tools/quantum_engine.py',
            'agents/forecaster.py',
            'agents/reasoning_agent.py',
            'src/kernel/process_manager.py',
            'src/kernel/memory_manager.py',
            'src/network/packet_capture.py',
            'src/quantum/circuit_builder.py'
        ];

        // Real processes
        const processes = [
            'quantum_engine',
            'network_monitor',
            'file_indexer',
            'agent_orchestrator',
            'memory_manager',
            'packet_analyzer',
            'code_compiler',
            'visualization_engine',
            'security_scanner',
            'ml_training'
        ];

        // Network protocols
        const protocols = ['TCP', 'UDP', 'HTTP', 'HTTPS', 'DNS', 'SSH', 'TLS', 'ICMP'];

        // ============================================================
        // FLOATING CHARACTERS SYSTEM
        // ============================================================

        const floatChars = '0123456789ABCDEFabcdef.+-*/=()[]{}:<>|&^~';

        function spawnFloatingChar() {
            const char = document.createElement('div');
            char.className = 'float-char';
            char.textContent = floatChars[Math.floor(Math.random() * floatChars.length)];
            char.style.left = Math.random() * window.innerWidth + 'px';
            char.style.top = window.innerHeight + 'px';

            const colors = ['#00ff88', '#00d4ff', '#ff00ff', '#a855f7'];
            char.style.color = colors[Math.floor(Math.random() * colors.length)];

            const duration = 5 + Math.random() * 5;
            char.style.animationDuration = duration + 's';

            document.body.appendChild(char);

            setTimeout(() => {
                char.remove();
            }, duration * 1000);
        }

        // ============================================================
        // PROCESS MONITOR
        // ============================================================

        function addProcessLine() {
            const container = document.getElementById('processStream');
            const line = document.createElement('div');
            line.className = 'process-line';

            const process = processes[Math.floor(Math.random() * processes.length)];
            const pid = Math.floor(Math.random() * 9000) + 1000;
            const cpu = (Math.random() * 100).toFixed(1);
            const mem = (Math.random() * 512).toFixed(1);
            const state = ['RUNNING', 'SLEEPING', 'WAITING', 'ACTIVE'][Math.floor(Math.random() * 4)];

            line.innerHTML = `<span style="color: #00ff88;">${pid}</span> ${process.padEnd(20)} CPU: ${cpu}% MEM: ${mem}MB [${state}]`;

            container.appendChild(line);

            // Keep only last 50 lines
            while (container.children.length > 51) {
                container.removeChild(container.children[1]);
            }

            setTimeout(() => {
                line.remove();
            }, 4000);
        }

        // ============================================================
        // FILE SYSTEM MONITOR
        // ============================================================

        function addFileLine() {
            const container = document.getElementById('fileMonitor');
            const line = document.createElement('div');
            line.className = 'file-line';

            const file = fileStructure[Math.floor(Math.random() * fileStructure.length)];
            const operation = ['READ', 'WRITE', 'SCAN', 'INDEX', 'MODIFY'][Math.floor(Math.random() * 5)];
            const bytes = Math.floor(Math.random() * 100000) + 1024;
            const timestamp = new Date().toLocaleTimeString();

            line.textContent = `[${timestamp}] ${operation} ${file} (${bytes}B)`;

            container.appendChild(line);
            filesScanned++;
            document.getElementById('filesValue').textContent = filesScanned;

            // Keep only last 40 lines
            while (container.children.length > 41) {
                container.removeChild(container.children[1]);
            }
        }

        // ============================================================
        // NETWORK MONITOR
        // ============================================================

        function addNetworkLine() {
            const container = document.getElementById('networkActivity');
            const line = document.createElement('div');
            line.className = 'network-line';

            const protocol = protocols[Math.floor(Math.random() * protocols.length)];
            const srcIP = `192.168.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`;
            const dstIP = `10.0.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`;
            const srcPort = Math.floor(Math.random() * 65535);
            const dstPort = Math.floor(Math.random() * 65535);
            const bytes = Math.floor(Math.random() * 10000) + 64;
            const timestamp = new Date().toLocaleTimeString();

            line.textContent = `[${timestamp}] ${protocol} ${srcIP}:${srcPort} → ${dstIP}:${dstPort} (${bytes}B)`;

            container.appendChild(line);
            packetsProcessed++;
            document.getElementById('packetsValue').textContent = packetsProcessed;

            // Keep only last 20 lines
            while (container.children.length > 21) {
                container.removeChild(container.children[1]);
            }
        }

        // ============================================================
        // CANVAS VISUALIZATION
        // ============================================================

        class DataPoint {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.vx = (Math.random() - 0.5) * 3;
                this.vy = (Math.random() - 0.5) * 3;
                this.size = Math.random() * 2 + 1;
                this.color = this.randomColor();
                this.value = Math.random().toFixed(6);
            }

            randomColor() {
                const colors = ['#00ff88', '#00d4ff', '#ff00ff', '#a855f7'];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;

                if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
                if (this.y < 0 || this.y > canvas.height) this.vy *= -1;

                this.x = Math.max(0, Math.min(canvas.width, this.x));
                this.y = Math.max(0, Math.min(canvas.height, this.y));
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();

                // Draw floating point value
                if (currentMode === 'quantum') {
                    ctx.font = '8px Courier New';
                    ctx.fillStyle = this.color;
                    ctx.fillText(this.value, this.x + 5, this.y);
                }
            }
        }

        let dataPoints = [];
        for (let i = 0; i < 150; i++) {
            dataPoints.push(new DataPoint());
        }

        function animate() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            dataPoints.forEach(point => {
                point.update();
                point.draw();
            });

            // Draw connections for quantum mode
            if (currentMode === 'quantum') {
                for (let i = 0; i < dataPoints.length; i++) {
                    for (let j = i + 1; j < dataPoints.length; j++) {
                        const dx = dataPoints[i].x - dataPoints[j].x;
                        const dy = dataPoints[i].y - dataPoints[j].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < 100) {
                            const opacity = 1 - (distance / 100);
                            ctx.beginPath();
                            ctx.moveTo(dataPoints[i].x, dataPoints[i].y);
                            ctx.lineTo(dataPoints[j].x, dataPoints[j].y);
                            ctx.strokeStyle = `rgba(255, 0, 255, ${opacity * 0.2})`;
                            ctx.lineWidth = 1;
                            ctx.stroke();
                        }
                    }
                }
            }

            requestAnimationFrame(animate);
        }

        // ============================================================
        // MODE SWITCHING
        // ============================================================

        function switchMode(mode) {
            currentMode = mode;

            // Update button states
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.mode === mode) {
                    btn.classList.add('active');
                }
            });

            // Adjust visualization density based on mode
            dataPoints = [];
            const density = {
                filesystem: 100,
                network: 150,
                quantum: 200,
                processes: 120
            };

            for (let i = 0; i < density[mode]; i++) {
                dataPoints.push(new DataPoint());
            }

            // Update quantum stats
            if (mode === 'quantum') {
                document.getElementById('qubitsValue').textContent = Math.floor(Math.random() * 50) + 20;
            } else {
                document.getElementById('qubitsValue').textContent = 0;
            }
        }

        // ============================================================
        // EVENT LISTENERS
        // ============================================================

        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                switchMode(btn.dataset.mode);
            });
        });

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // ============================================================
        // UPDATE LOOPS
        // ============================================================

        // Uptime counter
        setInterval(() => {
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const hours = Math.floor(elapsed / 3600);
            const minutes = Math.floor((elapsed % 3600) / 60);
            const seconds = elapsed % 60;
            document.getElementById('uptimeValue').textContent =
                `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }, 1000);

        // Thread counter
        setInterval(() => {
            document.getElementById('threadsValue').textContent =
                Math.floor(Math.random() * 50) + 20;
        }, 3000);

        // Process lines
        setInterval(addProcessLine, 800);

        // File lines
        setInterval(addFileLine, 600);

        // Network lines
        setInterval(addNetworkLine, 1000);

        // Floating characters
        setInterval(spawnFloatingChar, 200);

        // ============================================================
        // INITIALIZE
        // ============================================================

        animate();
    </script>
</body>
</html>
